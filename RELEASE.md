# Releasing OpenLIME

A OpenLIME software release is always generated by tagging the main branch.
OpenLIME adopted the **SemVer** version scheme, i.e. the release version is named according to the following format:`v.<MAJOR>.<MINOR>.<PATCH>`, where `<MAJOR>`, `<MINOR>` and `<PATCH>` are three numbers (e.g. *v1.0.4*)   .

The process of building a release is partly manual and partly automatic.
When the software is sufficiently mature to be released, the following steps can be taken:
1. Check out to the *main branch*, and put everything in a clean state
2. Choose a new release version ID (`v<MAJOR>.<MINOR>.<PATCH>`)
3. Edit the file `./jsdoc/releases/rel-v<MAJOR>.<MINOR>.<PATCH>.md`. Describe the new release and add information about the new features in the *What's new* session.
4. Add and commit the file, and push the *main branch* to the github host
5. Tag the release (create an annotated tag):
```
git tag -a v<MAJOR>.<MINOR>.<PATCH> -m "<MESSAGE>"
```
6. Push the tag to the github host:
```
git push origin --tags
```
The latter will trigger a github action that will create a new release on github with the release notes and the released software.

## How to delete a release
To delete a release created by mistake, follow these steps:
1. In a browser, open the github OpenLIME page. Select the release and press the delete button (top right).
2. From the shell
    - Delete the remote tag:
    ```
    git push --delete origin v<MAJOR>.<MINOR>.<PATCH>
    ```
    - Delete the local tag:
    ```
    git tag -d v<MAJOR>.<MINOR>.<PATCH>
    ```
